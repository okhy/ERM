{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Routing.tsx","webpack:///./src/StoreProviderWrapper.tsx","webpack:///./src/components/Button/Button.styles.css","webpack:///./src/components/Button/Button.tsx","webpack:///./src/components/Footer/Footer.tsx","webpack:///./src/components/Header/Header.styles.css","webpack:///./src/components/Header/Header.tsx","webpack:///./src/components/LogoBar/LogoBar.styles.css","webpack:///./src/components/LogoBar/LogoBar.tsx","webpack:///./src/components/MovieGrid/MovieGrid.styles.css","webpack:///./src/components/MovieGrid/MovieGrid.tsx","webpack:///./src/components/MovieGrid/components/MovieGridItem/MovieGridItem.styles.css","webpack:///./src/components/MovieGrid/components/MovieGridItem/MovieGridItem.tsx","webpack:///./src/components/Poster/Poster.styles.css","webpack:///./src/components/Poster/Poster.tsx","webpack:///./src/components/WithError/WithError.tsx","webpack:///./src/global.actions.ts","webpack:///./src/global.css","webpack:///./src/global.reducer.ts","webpack:///./src/index.tsx","webpack:///./src/reset.css","webpack:///./src/server/appRenderer.tsx","webpack:///./src/server/server.ts","webpack:///./src/server/wrapAppStringWithTemplate.ts","webpack:///./src/services/movieService.ts","webpack:///./src/views/DetailsPage/DetailsPage.actions.ts","webpack:///./src/views/DetailsPage/DetailsPage.reducer.ts","webpack:///./src/views/DetailsPage/DetailsPage.tsx","webpack:///./src/views/DetailsPage/components/MovieDetails/MovieDetails.styles.css","webpack:///./src/views/DetailsPage/components/MovieDetails/MovieDetails.tsx","webpack:///./src/views/ErrorPage/ErrorPage.tsx","webpack:///./src/views/SearchPage/SearchPage.actions.ts","webpack:///./src/views/SearchPage/SearchPage.reducer.ts","webpack:///./src/views/SearchPage/SearchPage.tsx","webpack:///./src/views/SearchPage/components/MovieSearch/MovieSearch.styles.css","webpack:///./src/views/SearchPage/components/MovieSearch/MovieSearch.tsx","webpack:///external \"classnames\"","webpack:///external \"express\"","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"redux-thunk\""],"names":[],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server/server.ts\");\n","import * as React from \"react\";\r\n// router\r\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\r\n// views\r\nimport SearchPage from \"Views/SearchPage/SearchPage\";\r\nimport DetailsPage from \"Views/DetailsPage/DetailsPage\";\r\nimport ErrorPage from \"Views/ErrorPage/ErrorPage\";\r\n\r\ntype RoutesPropsType = {\r\n  router?: any;\r\n};\r\nconst Routes: React.SFC<RoutesPropsType> = ({ router }) => {\r\n  const Router = router || HashRouter;\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={SearchPage} />\r\n        <Route exact path=\"/movie/:id\" component={DetailsPage} />\r\n        <Route component={ErrorPage} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import { StateTypes } from \"Types\";\r\n// react\r\nimport * as React from \"react\";\r\n// Redux\r\nimport { createStore, combineReducers, applyMiddleware, Reducer } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\n// reducers\r\nimport globalReducer from \"./global.reducer\";\r\nimport searchPageReducer from \"Views/SearchPage/SearchPage.reducer\";\r\nimport detailsPageReducer from \"Views/DetailsPage/DetailsPage.reducer\";\r\n\r\nconst initialState: Object | undefined =\r\n  typeof window != \"undefined\" && !!window.__PRELOADED_STATE__\r\n    ? window.__PRELOADED_STATE__\r\n    : undefined;\r\n\r\nexport const rootReducer: Reducer<\r\n  StateTypes.applicationState\r\n> = combineReducers({\r\n  global: globalReducer,\r\n  searchPage: searchPageReducer,\r\n  detailsPage: detailsPageReducer\r\n});\r\n\r\ntype StoreProviderWrapperPropsType = { providedState?: any };\r\nconst StoreProviderWrapper: React.SFC<StoreProviderWrapperPropsType> = ({\r\n  providedState,\r\n  children\r\n}) => {\r\n  const store = createStore(\r\n    rootReducer,\r\n    providedState || initialState,\r\n    applyMiddleware(thunk)\r\n  );\r\n\r\n  return <Provider store={store}>{children}</Provider>;\r\n};\r\n\r\nexport default StoreProviderWrapper;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main--2PvMjmEKGj\",\"small\":\"small--2x2Fu4F8tZ\",\"icon\":\"icon--ZxbmSZ6dRR Typo-Base-Size\",\"label\":\"label--2sTCEdU_ww Typo-Base\",\"smallLabel\":\"smallLabel--2KPuQMrSI4 Typo-Small\",\"smallIcon\":\"smallIcon--3N6HbN4hLI icon--ZxbmSZ6dRR Typo-Base-Size Typo-Small-Size\",\"basic\":\"basic--3H_CF4nQit\",\"primary\":\"primary--3oLrhkA1sK\",\"white\":\"white--2sCRFIzGkg\",\"negative\":\"negative--13uLUEqxro\",\"disabled\":\"disabled--36dzZiYDf4\"};","import * as React from \"react\";\r\nimport * as styles from \"./Button.styles.css\";\r\nimport * as cx from \"classnames\";\r\n\r\ninterface IButton {\r\n  label: string; // label, mandatory\r\n  variant?: \"primary\" | \"white\" | \"negative\" | \"disabled\"; // css variants\r\n  type?: \"submit\" | \"reset\"; // html button type prop\r\n  disabled?: boolean; // is diabled\r\n  icon?: string; // full fontawesome class set -> \"fab fa-font-awesome-flag\"\r\n  size?: \"small\";\r\n  clickAction?(e: React.MouseEvent): void;\r\n}\r\n\r\nconst Button: React.SFC<IButton> = props => {\r\n  const { type, disabled, icon, variant, size, label, clickAction } = props;\r\n  const isSmall: boolean = !!size;\r\n  const mainClass: string = cx(styles.main, {\r\n    [styles.basic]: !variant,\r\n    [styles.white]: !disabled && variant && variant === \"white\",\r\n    [styles.primary]: !disabled && variant && variant === \"primary\",\r\n    [styles.negative]: !disabled && variant && variant === \"negative\",\r\n    [styles.disabled]: !!disabled,\r\n    [styles.small]: isSmall\r\n  });\r\n\r\n  return (\r\n    <button\r\n      className={mainClass}\r\n      disabled={!!disabled}\r\n      type={type}\r\n      onClick={clickAction}\r\n    >\r\n      {icon && (\r\n        <i className={`${isSmall ? styles.smallIcon : styles.icon} ${icon}`} />\r\n      )}\r\n      <span className={isSmall ? styles.smallLabel : styles.label}>\r\n        {label}\r\n      </span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import * as React from \"react\";\r\n// components\r\nimport LogoBar from \"Components/LogoBar/LogoBar\";\r\n\r\nconst Footer = () => (\r\n  <div>\r\n    <LogoBar />\r\n  </div>\r\n);\r\n\r\nexport default Footer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main--3WcB7HhuAt\",\"content\":\"content--24h273L6rD\"};","import * as React from \"react\";\r\n// components\r\nimport LogoBar from \"Components/LogoBar/LogoBar\";\r\nimport * as styles from \"./Header.styles.css\";\r\n\r\ninterface IHeader {\r\n  actionItem?: React.ReactNode;\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst Header: React.SFC<IHeader> = props => (\r\n  <div className={styles.main}>\r\n    <LogoBar>{props.actionItem}</LogoBar>\r\n    {props.children && <div className={styles.content}>{props.children}</div>}\r\n  </div>\r\n);\r\n\r\nexport default Header;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main--2h0OYChSM1\",\"logo\":\"logo--38LLapTivf Typo-Big\",\"actionsWrapper\":\"actionsWrapper--N6RVU0ahF5\"};","import * as React from \"react\";\r\n// css\r\nimport * as styles from \"./LogoBar.styles.css\";\r\n// interface\r\ninterface ILogoBar {\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst LogoBar: React.SFC<ILogoBar> = props => (\r\n  <div className={styles.main}>\r\n    <span className={styles.logo}>netflixroulette</span>\r\n    {props.children && (\r\n      <div className={styles.actionsWrapper}>{props.children}</div>\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport default LogoBar;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main--2CDpY4Geq5\",\"results\":\"results--Rcw5bcqfC8\",\"count\":\"count--2Uj_FOskjy Typo-Base Typo-Bold\",\"sorting\":\"sorting--G_AmDpPF6O\",\"sortingLabel\":\"sortingLabel--2Wdluvzh5m Typo-Base\",\"grid\":\"grid--1zC8WBtbAE\",\"sorryMessage\":\"sorryMessage--2byhF3-d3w Typo-Big\"};","import * as React from \"react\";\r\n// components and interfaces\r\nimport MovieGridItem from \"./components/MovieGridItem/MovieGridItem\";\r\nimport Button from \"Components/Button/Button\";\r\n// styles\r\nimport * as styles from \"./MovieGrid.styles.css\";\r\n// interface\r\nimport { MovieTypes } from \"Types\";\r\n// redux\r\nimport { connect } from \"react-redux\";\r\nimport { StateTypes } from \"Types\";\r\nimport { Dispatch } from \"redux\";\r\nimport searchActionTypes from \"Views/SearchPage/SearchPage.actions\";\r\n\r\ntype MoviesGridType = {\r\n  similarResults?: boolean;\r\n  movieIDs?: number[];\r\n  // store variables\r\n  getDetailsPageMovie: (id: number) => MovieTypes.IMovie;\r\n  getSearchPageMovie: (id: number) => MovieTypes.IMovie;\r\n  sortMovies: (sortKey: string) => void;\r\n  sortBy: string;\r\n};\r\n\r\nconst MovieGrid: React.SFC<MoviesGridType> = ({\r\n  similarResults,\r\n  movieIDs,\r\n  getDetailsPageMovie,\r\n  getSearchPageMovie,\r\n  sortMovies,\r\n  sortBy\r\n}) => {\r\n  const movieCount: number = !!movieIDs ? movieIDs.length : 0;\r\n  const movieList: void[] | React.ReactElement[] =\r\n    movieIDs &&\r\n    movieIDs.map((movieID: number) => {\r\n      const movie = similarResults\r\n        ? getDetailsPageMovie(movieID)\r\n        : getSearchPageMovie(movieID);\r\n      return <MovieGridItem key={movieID} {...movie} />;\r\n    });\r\n\r\n  const countMessage: string = `${movieCount || \"No\"} movie${\r\n    movieCount === 1 ? \"\" : \"s\"\r\n  } found`;\r\n\r\n  const handleSortClick = (sortKey: string) => (e: React.MouseEvent): void => {\r\n    e.preventDefault();\r\n    sortMovies(sortKey);\r\n  };\r\n  return (\r\n    <div className={styles.main}>\r\n      <div className={styles.results}>\r\n        {similarResults ? (\r\n          <>\r\n            <span>Films by </span>\r\n            <span>Drama genre</span>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <span className={styles.count}>{countMessage}</span>\r\n            <div className={styles.sorting}>\r\n              <span className={styles.sortingLabel}>Sort by</span>\r\n              <Button\r\n                label=\"release date\"\r\n                size=\"small\"\r\n                variant={sortBy === \"releaseDate\" ? \"primary\" : \"white\"}\r\n                clickAction={handleSortClick(\"releaseDate\")}\r\n              />\r\n              <Button\r\n                label=\"rating\"\r\n                size=\"small\"\r\n                variant={sortBy === \"rating\" ? \"primary\" : \"white\"}\r\n                clickAction={handleSortClick(\"rating\")}\r\n              />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n      {!!movieIDs && !!movieIDs.length ? (\r\n        <div className={styles.grid}>{movieList}</div>\r\n      ) : (\r\n        <div className={styles.sorryMessage}>\r\n          <span>No movies :(</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n/* istanbul ignore next*/\r\nconst mapState = (state: StateTypes.applicationState) => ({\r\n  sortBy: state.searchPage.sortBy,\r\n  getDetailsPageMovie: (id: number) =>\r\n    state.detailsPage.similarMovies.find(\r\n      (movie: MovieTypes.IMovie) => movie.id === id\r\n    ),\r\n  getSearchPageMovie: (id: number) =>\r\n    state.searchPage.movies.find((movie: MovieTypes.IMovie) => movie.id === id)\r\n});\r\n/* istanbul ignore next*/\r\nconst mapDispatch = (dispatch: Dispatch) => ({\r\n  sortMovies: (sortKey: string) => {\r\n    dispatch({ type: searchActionTypes.movieListSorting, payload: sortKey });\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapState,\r\n  mapDispatch\r\n)(MovieGrid);\r\n\r\nexport { MovieGrid };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posterBase\":\"posterBase--3HKyckwz-n\",\"poster\":\"poster--1lWKpfZjHB posterBase--3HKyckwz-n\",\"noPoster\":\"noPoster--3tY5o5T9RG posterBase--3HKyckwz-n\",\"noPosterLabel\":\"noPosterLabel--3U2NI5KzNu Typo-Big Typo-Bold\",\"data\":\"data--2J0ZE0111P\",\"baseData\":\"baseData--1TTT652wwr\",\"title\":\"title--KcdksvBbRs Typo-Big Typo-Bold\",\"releaseDate\":\"releaseDate--1qemYuMYuC Typo-Base\",\"genres\":\"genres--1h11aYsl9t Typo-Small\"};","import { MovieTypes } from \"Types\";\r\n// react\r\nimport * as React from \"react\";\r\n// redux\r\nimport { connect } from \"react-redux\";\r\nimport { Dispatch } from \"redux\";\r\nimport { fetchMovieById } from \"Views/DetailsPage/DetailsPage.actions\";\r\n// Link\r\nimport { Link } from \"react-router-dom\";\r\n// styles\r\nimport * as styles from \"./MovieGridItem.styles.css\";\r\n// components\r\nimport Poster from \"Components/Poster/Poster\";\r\n\r\ntype MovieGridItemType = MovieTypes.IMovie & {\r\n  fetchMovie: (id: number) => void;\r\n};\r\n\r\nconst MovieGridItem: React.SFC<MovieGridItemType> = ({\r\n  id,\r\n  title,\r\n  poster,\r\n  releaseDate,\r\n  genres,\r\n  fetchMovie\r\n}) => (\r\n  <Link\r\n    to={`/movie/${id}`}\r\n    onClick={(e: React.SyntheticEvent) => {\r\n      fetchMovie(id);\r\n    }}\r\n  >\r\n    <Poster url={poster} />\r\n    <div className={styles.data}>\r\n      <div className={styles.baseData}>\r\n        <span className={styles.title}>{title}</span>\r\n        {!!releaseDate && releaseDate.length > 3 && (\r\n          <span className={styles.releaseDate}>{releaseDate.substr(0, 4)}</span>\r\n        )}\r\n      </div>\r\n      {!!genres && !!genres.length && (\r\n        <span className={styles.genres}>{genres.join(\" & \")}</span>\r\n      )}\r\n    </div>\r\n  </Link>\r\n);\r\n\r\n/* istanbul ignore next*/\r\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\r\n  fetchMovie: (id: number) => {\r\n    fetchMovieById(id)(dispatch);\r\n  }\r\n});\r\n\r\nexport { MovieGridItem };\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(MovieGridItem);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"base\":\"base--XaDP8rqba0\",\"main\":\"main--Li1wQn5agF base--XaDP8rqba0\",\"noPoster\":\"noPoster--25KUyC8wJw base--XaDP8rqba0\",\"noPosterLabel\":\"noPosterLabel--1G9GrwF056 Typo-Big Typo-Bold\"};","import * as React from \"react\";\r\n\r\nimport * as styles from \"./Poster.styles.css\";\r\ntype PosterProps = {\r\n  url?: string;\r\n};\r\nconst Poster: React.SFC<PosterProps> = ({ url }) => {\r\n  return (\r\n    <>\r\n      {url && (\r\n        <div\r\n          className={styles.main}\r\n          style={{ backgroundImage: `url(${url})` }}\r\n        />\r\n      )}\r\n      {!url && (\r\n        <div className={styles.noPoster}>\r\n          <span className={styles.noPosterLabel}>No poster</span>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Poster;\r\n","import * as React from \"react\";\r\n\r\ntype Props = {\r\n  errorCallback(error: Error, errorInfo: React.ErrorInfo): void;\r\n};\r\n\r\ntype State = {\r\n  hasError: boolean;\r\n};\r\n\r\nclass WithError extends React.Component<Props, State> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n    this.componentDidCatch = this.componentDidCatch.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromError() {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo): void {\r\n    this.setState({ hasError: true });\r\n    this.props.errorCallback(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <span>Something went wrong</span>;\r\n    }\r\n    return <>{this.props.children}</>;\r\n  }\r\n}\r\n\r\nexport default WithError;\r\n","import { ReduxTypes } from \"Types\";\r\n\r\nenum globalActionTypes {\r\n  toggleFetchStatus = \"TOGGLE_FETCHING_STATUS\",\r\n  setFetchError = \"SET_FETCHING_ERROR\"\r\n}\r\n\r\nexport default globalActionTypes;\r\n\r\nexport const toggleFetchStatus: ReduxTypes.PayloadActionCreator<\r\n  boolean\r\n> = status => ({\r\n  type: globalActionTypes.toggleFetchStatus,\r\n  payload: status\r\n});\r\n\r\nexport const fetchError: ReduxTypes.PayloadActionCreator<Error> = error => ({\r\n  type: globalActionTypes.setFetchError,\r\n  payload: error\r\n});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main--E0HTVKQY0v main--1zhdlX0xdi\"};","import { ReduxTypes, StateTypes } from \"Types\";\r\nimport globalActionTypes from \"./global.actions\";\r\n\r\ntype globalReducerType = (\r\n  state: StateTypes.globalState,\r\n  action: ReduxTypes.GenericAction<any>\r\n) => StateTypes.globalState;\r\n\r\nconst initialState: StateTypes.globalState = {\r\n  fetching: {\r\n    status: false,\r\n    error: false\r\n  }\r\n};\r\n\r\nconst globalReducer: globalReducerType = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case globalActionTypes.toggleFetchStatus:\r\n      return {\r\n        ...state,\r\n        fetching: {\r\n          status: action.payload,\r\n          error: false\r\n        }\r\n      };\r\n    case globalActionTypes.setFetchError:\r\n      return {\r\n        ...state,\r\n        fetching: {\r\n          status: false,\r\n          error: action.payload\r\n        }\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default globalReducer;\r\n","// react\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\n// components\r\nimport WithError from \"Components/WithError/WithError\";\r\nimport Routes from \"./Routing\";\r\nimport StoreProviderWrapper from \"./StoreProviderWrapper\";\r\n// assets\r\nimport * as styles from \"./global.css\";\r\nimport \"./reset.css\";\r\n// init styles for whole app\r\nstyles;\r\n// resetCSS;\r\n\r\nexport interface IErrorHandlerFunction {\r\n  (error: Error, errorInfo: React.ErrorInfo): void;\r\n}\r\n\r\nconst errorHandler: IErrorHandlerFunction = (error, errorInfo) => {\r\n  console.log(error, errorInfo);\r\n};\r\n\r\ntype AppPropsType = {\r\n  router?: any;\r\n  providedErrorHandler?: IErrorHandlerFunction;\r\n  state?: any;\r\n};\r\nconst App: React.SFC<AppPropsType> = ({\r\n  router,\r\n  providedErrorHandler,\r\n  state\r\n}) => (\r\n  <div className=\"app-container\">\r\n    <WithError errorCallback={providedErrorHandler || errorHandler}>\r\n      <StoreProviderWrapper providedState={state}>\r\n        <Routes router={router} />\r\n      </StoreProviderWrapper>\r\n    </WithError>\r\n  </div>\r\n);\r\n\r\nif (typeof document != \"undefined\") {\r\n  ReactDOM.hydrate(<App />, document.getElementById(\"app\"));\r\n}\r\nexport default App;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main--1zhdlX0xdi\"};","import * as React from \"react\";\r\nimport { StaticRouter } from \"react-router-dom\";\r\nimport { renderToString } from \"react-dom/server\";\r\nimport wrapAppStringWithTemplate from \"./wrapAppStringWithTemplate\";\r\n// components\r\nimport App from \"./../index\";\r\n\r\ntype renderAppToStringType = (state?: any) => string;\r\nconst renderAppToString: renderAppToStringType = state => {\r\n  return wrapAppStringWithTemplate(\r\n    renderToString(<App state={state} router={StaticRouter} />)\r\n  );\r\n};\r\n\r\nexport default renderAppToString;\r\n","// imports\r\nimport * as express from \"express\";\r\nimport renderAppToString from \"./appRenderer\";\r\n\r\ntype templateMiddlewareType = (html: string) => (req: any, res: any) => void;\r\nconst templateMiddleware: templateMiddlewareType = html => (req, res) => {\r\n  console.log(req.url);\r\n\r\n  res.send(html);\r\n};\r\n\r\nconst app = express();\r\n\r\napp.use(express.static(\"./dist\"));\r\napp.use(\"*\", templateMiddleware(renderAppToString({})));\r\n\r\n// run server\r\nconst port: string = process.env.PORT || \"8080\";\r\napp.listen(port, () => console.log(`listening on :${port}`));\r\n\r\n// exports\r\nexport { templateMiddleware };\r\n","type renderToStringType = (html: string) => string;\r\nconst wrapAppStringWithTemplate: renderToStringType = html => `<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <title>Epam React Mentoring Project - SSR</title>\r\n    <link href=\"main.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n    <link href=\"https://fonts.googleapis.com/css?family=Source+Sans+Pro\" rel=\"stylesheet\" type=\"text/css\" />\r\n    <link\r\n      rel=\"stylesheet\"\r\n      href=\"https://use.fontawesome.com/releases/v5.8.1/css/all.css\"\r\n      integrity=\"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\"\r\n      crossorigin=\"anonymous\"\r\n    />\r\n  </head>\r\n  <body>\r\n    <div id=\"app\">${html}</div>\r\n    <script src=\"bundle.js\"></script>\r\n  </body>\r\n</html>`;\r\n\r\nexport default wrapAppStringWithTemplate;\r\n","import { ResponseMovie, ResponseMovieList, MovieTypes } from \"Types\";\r\nexport type resultType = {\r\n  movie: MovieTypes.IMovie;\r\n  similar: MovieTypes.IMovie[];\r\n};\r\n\r\ntype formatQueryType = (query: MovieTypes.MovieListQuery) => string;\r\ntype formatOptionsType = (options: string) => MovieTypes.MovieListQuery;\r\ntype getMovieListType = (\r\n  query: MovieTypes.MovieListQuery\r\n) => Promise<MovieTypes.IMovie[]>;\r\ntype getMovieByIDType = (id: number) => Promise<void | MovieTypes.IMovie>;\r\n\r\ntype movieServiceReturnType = {\r\n  formatOptionsToQueryString: formatQueryType;\r\n  formatQueryStringToOptions: formatOptionsType;\r\n  getMovieList: getMovieListType;\r\n  getMovieByID: getMovieByIDType;\r\n};\r\n\r\nexport const transformResponseMovie = (\r\n  movie: ResponseMovie\r\n): MovieTypes.IMovie => ({\r\n  id: movie.id,\r\n  rating: movie.vote_average,\r\n  title: movie.title,\r\n  poster: movie.poster_path,\r\n  releaseDate: movie.release_date,\r\n  genres: movie.genres,\r\n  runtime: movie.runtime,\r\n  overview: movie.overview\r\n});\r\n\r\nconst movieService = (): movieServiceReturnType => {\r\n  const apiURL = \"https://reactjs-cdp.herokuapp.com\";\r\n\r\n  // convert options from object to query string \"?optval&opt2=val2\"\r\n  const formatOptionsToQueryString: formatQueryType = query =>\r\n    Object.keys(query).reduce((accumulator, key, index) => {\r\n      const ampersand = index > 0 ? \"&\" : \"\";\r\n      const option = `${key}=${query[key].replace(\" \", \"%20\")}`;\r\n      return accumulator + ampersand + option;\r\n    }, \"?\");\r\n\r\n  const formatQueryStringToOptions: formatOptionsType = options => {\r\n    const result = options\r\n      .substr(1)\r\n      .split(\"&\")\r\n      .reduce((acc: any, pair: string) => {\r\n        const splitPair = pair.split(\"=\");\r\n        acc[splitPair[0]] = splitPair[1].replace(\"%20\", \" \");\r\n        return acc;\r\n      }, {});\r\n\r\n    return result;\r\n  };\r\n\r\n  const getMovieList: getMovieListType = query =>\r\n    fetch(`${apiURL}/movies${formatOptionsToQueryString(query)}`)\r\n      .then((response: Response) => response.json())\r\n      .then(\r\n        (responseData: ResponseMovieList): MovieTypes.IMovie[] =>\r\n          responseData.data.map(\r\n            (movie: ResponseMovie): MovieTypes.IMovie =>\r\n              transformResponseMovie(movie)\r\n          )\r\n      )\r\n      .catch((error: Error) => {\r\n        throw error;\r\n      });\r\n\r\n  const getMovieByID: getMovieByIDType = id =>\r\n    fetch(`${apiURL}/movies/${id}`)\r\n      .then((response: Response) => response.json())\r\n      .then(\r\n        (responseData: ResponseMovie): MovieTypes.IMovie =>\r\n          transformResponseMovie(responseData)\r\n      )\r\n      .catch((error: Error) => {\r\n        throw error;\r\n      });\r\n\r\n  return {\r\n    formatOptionsToQueryString,\r\n    formatQueryStringToOptions,\r\n    getMovieList,\r\n    getMovieByID\r\n  };\r\n};\r\n\r\nexport default movieService();\r\n","import { MovieTypes, ReduxTypes } from \"Types\";\r\nimport movieService from \"Services/movieService\";\r\nimport { toggleFetchStatus, fetchError } from \"App/global.actions\";\r\n\r\ntype resultType = {\r\n  movie: MovieTypes.IMovie;\r\n  similar: MovieTypes.IMovie[];\r\n};\r\n\r\ntype dispatchInterfaceTypes = boolean | resultType | Error;\r\n\r\nenum detailsActionTypes {\r\n  getMovieDetails = \"GET_MOVIE_DETAILS_QUERY\",\r\n  getMovieDetailsResponse = \"GET_MOVIE_DETAILS_RESPONSE\"\r\n}\r\nexport default detailsActionTypes;\r\n\r\nexport const errorHandler = (\r\n  dispatch: ReduxTypes.StoreDispatch<dispatchInterfaceTypes>\r\n) => (error: Error): void => {\r\n  dispatch(fetchError(error));\r\n  dispatch(toggleFetchStatus(false));\r\n};\r\n\r\nexport const movieListSuccessHandler = (\r\n  dispatch: ReduxTypes.StoreDispatch<dispatchInterfaceTypes>,\r\n  movie: MovieTypes.IMovie\r\n) => (similar: MovieTypes.IMovie[]): void => {\r\n  dispatch({\r\n    type: detailsActionTypes.getMovieDetailsResponse,\r\n    payload: { movie, similar }\r\n  });\r\n  dispatch(toggleFetchStatus(false));\r\n};\r\n\r\n// calls functions tested elsewhere\r\n/* istanbul ignore next*/\r\nconst successHandler = (\r\n  dispatch: ReduxTypes.StoreDispatch<dispatchInterfaceTypes>\r\n) => (result: MovieTypes.IMovie): void => {\r\n  movieService\r\n    .getMovieList({\r\n      search: result.genres ? result.genres[0] : \"\",\r\n      searchBy: \"genres\"\r\n    })\r\n    .then(movieListSuccessHandler(dispatch, result))\r\n    .catch(errorHandler(dispatch));\r\n};\r\n\r\nexport const fetchMovieById: ReduxTypes.ThunkAction<\r\n  number,\r\n  dispatchInterfaceTypes\r\n> = id => dispatch => {\r\n  dispatch(toggleFetchStatus(true));\r\n\r\n  movieService\r\n    .getMovieByID(id)\r\n    .then(successHandler(dispatch))\r\n    .catch(errorHandler(dispatch));\r\n\r\n  return {\r\n    type: detailsActionTypes.getMovieDetails\r\n  };\r\n};\r\n","import { ReduxTypes, StateTypes } from \"Types\";\r\n\r\nimport detailsActionTypes from \"./DetailsPage.actions\";\r\n\r\ntype detailsPageReducerType = (\r\n  state: StateTypes.detailsPageState,\r\n  action: ReduxTypes.GenericAction<any>\r\n) => StateTypes.detailsPageState;\r\n\r\nconst initialState: StateTypes.detailsPageState = {\r\n  details: false,\r\n  similarMovies: []\r\n};\r\n\r\nconst detailsPageReducer: detailsPageReducerType = (\r\n  state = initialState,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case detailsActionTypes.getMovieDetailsResponse:\r\n      return {\r\n        ...state,\r\n        details: action.payload.movie,\r\n        similarMovies: action.payload.similar\r\n      };\r\n    case detailsActionTypes.getMovieDetails:\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default detailsPageReducer;\r\n","import { StateTypes, MovieTypes } from \"Types\";\r\n// react\r\nimport * as React from \"react\";\r\n// components\r\nimport Header from \"Components/Header/Header\";\r\nimport MovieGrid from \"Components/MovieGrid/MovieGrid\";\r\nimport Footer from \"Components/Footer/Footer\";\r\nimport Button from \"Components/Button/Button\";\r\n// child components\r\nimport MovieDetails from \"./components/MovieDetails/MovieDetails\";\r\n// redux imports\r\nimport { connect } from \"react-redux\";\r\nimport { Dispatch } from \"redux\";\r\nimport { fetchMovieById } from \"Views/DetailsPage/DetailsPage.actions\";\r\n\r\ntype DetailsPageProps = {\r\n  // router props\r\n  match: { params: { id: string } };\r\n  // redux props\r\n  detailsID?: number;\r\n  getDetails: () => MovieTypes.IMovie;\r\n  similarMovies?: number[];\r\n  // redux methods\r\n  fetchMovie(id: number): void;\r\n};\r\n\r\nclass DetailsPage extends React.PureComponent<DetailsPageProps, null> {\r\n  componentDidMount() {\r\n    this.props.fetchMovie(+this.props.match.params.id);\r\n  }\r\n\r\n  render() {\r\n    const haveDetails = !!this.props.detailsID;\r\n    const haveSimilar =\r\n      !!this.props.similarMovies && !!this.props.similarMovies.length;\r\n\r\n    return (\r\n      <div>\r\n        <Header actionItem={<Button variant=\"white\" label=\"search\" />}>\r\n          {haveDetails && <MovieDetails {...this.props.getDetails()} />}\r\n          {!haveDetails && <span>TODO: Spinner component</span>}\r\n        </Header>\r\n        <div>\r\n          {haveSimilar && (\r\n            <MovieGrid\r\n              similarResults={true}\r\n              movieIDs={this.props.similarMovies}\r\n            />\r\n          )}\r\n          {!haveSimilar && <span>TODO: Spinner component</span>}\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/* istanbul ignore next*/\r\nconst mapStateToProps = (state: StateTypes.applicationState) => ({\r\n  detailsID: !!state.detailsPage.details && state.detailsPage.details.id,\r\n  getDetails: () => state.detailsPage.details,\r\n  similarMovies:\r\n    state.detailsPage.similarMovies &&\r\n    state.detailsPage.similarMovies.map((movie: MovieTypes.IMovie) => movie.id)\r\n});\r\n\r\n/* istanbul ignore next*/\r\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\r\n  fetchMovie: (id: number) => {\r\n    fetchMovieById(id)(dispatch);\r\n  }\r\n});\r\n\r\nexport { DetailsPage };\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DetailsPage);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main--YWKTZc0fnx\",\"poster\":\"poster--1L33cQ3Vhp\",\"noPoster\":\"noPoster--3XH2HlLYii\",\"noPosterLabel\":\"noPosterLabel--1BsZ8owRf-\",\"details\":\"details--3S4I1MVBW5\",\"title\":\"title--3FXPckeSIu\",\"genres\":\"genres--1JmbPaCtFr\",\"yearAndDuration\":\"yearAndDuration--2E6vTsJX45\",\"year\":\"year--2UXyvW7HxL\",\"duration\":\"duration--25dJcemmuG\",\"overview\":\"overview--3AwaA5oXtZ\"};","import * as React from \"react\";\r\nimport { MovieTypes } from \"Types\";\r\n// styles\r\nimport * as styles from \"./MovieDetails.styles.css\";\r\n// components\r\nimport Poster from \"Components/Poster/Poster\";\r\n\r\nconst MovieDetails: React.SFC<MovieTypes.IMovie> = ({\r\n  title,\r\n  poster,\r\n  releaseDate,\r\n  genres,\r\n  runtime,\r\n  overview\r\n}) => (\r\n  <div className={styles.main}>\r\n    <Poster url={poster} />\r\n    <div className={styles.details}>\r\n      <span className={styles.title}>{title}</span>\r\n      {!!genres && genres.length && (\r\n        <span className={styles.genres}>{genres.join(\" & \")}</span>\r\n      )}\r\n      <div className={styles.yearAndDuration}>\r\n        {!!releaseDate && releaseDate.length > 3 && (\r\n          <span className={styles.year}>{releaseDate.substr(0, 4)}</span>\r\n        )}\r\n        {!!runtime && (\r\n          <span className={styles.duration}>{`${runtime} min`}</span>\r\n        )}\r\n      </div>\r\n      <span className={styles.overview}>{overview}</span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default MovieDetails;\r\n","import * as React from \"react\";\r\n\r\nconst ErrorPage = () => <span>404</span>;\r\n\r\nexport default ErrorPage;\r\n","import { MovieTypes, ReduxTypes } from \"Types\";\r\nimport movieService from \"Services/movieService\";\r\n\r\nimport { toggleFetchStatus, fetchError } from \"App/global.actions\";\r\n\r\nenum searchActionTypes {\r\n  getMovieList = \"GET_MOVIE_LIST_QUERY\",\r\n  getMovieListResponse = \"GET_MOVIE_LIST_RESPONSE\",\r\n  movieListSorting = \"MOVIE_LIST_SORT\"\r\n}\r\n\r\nexport default searchActionTypes;\r\n\r\n// thunk action\r\nexport const movieSearch: ReduxTypes.ThunkAction<\r\n  MovieTypes.MovieListQuery,\r\n  boolean | MovieTypes.IMovie[] | Error\r\n> = query => dispatch => {\r\n  dispatch(toggleFetchStatus(true));\r\n  /* istanbul ignore next: covered by service tests*/\r\n\r\n  movieService\r\n    .getMovieList(query)\r\n    .then((result: MovieTypes.IMovie[]) => {\r\n      dispatch({\r\n        type: searchActionTypes.getMovieListResponse,\r\n        payload: result\r\n      });\r\n      dispatch(toggleFetchStatus(false));\r\n    })\r\n    .catch((error: Error) => {\r\n      dispatch(fetchError(error));\r\n      dispatch(toggleFetchStatus(false));\r\n    });\r\n\r\n  return {\r\n    type: searchActionTypes.getMovieList,\r\n    payload: query\r\n  };\r\n};\r\n","import { ReduxTypes, MovieTypes, StateTypes } from \"Types\";\r\nimport searchActionTypes from \"./SearchPage.actions\";\r\n\r\ntype searchPageReducerType = (\r\n  state: StateTypes.searchPageState,\r\n  action: ReduxTypes.GenericAction<any>\r\n) => StateTypes.searchPageState;\r\n\r\nconst initialState: StateTypes.searchPageState = {\r\n  query: \"\",\r\n  movies: [],\r\n  sortBy: \"title\"\r\n};\r\n\r\nconst searchPageReducer: searchPageReducerType = (\r\n  state = initialState,\r\n  action\r\n): StateTypes.searchPageState => {\r\n  switch (action.type) {\r\n    case searchActionTypes.getMovieList:\r\n      return {\r\n        ...state,\r\n        query: action.payload\r\n      };\r\n    case searchActionTypes.getMovieListResponse:\r\n      return {\r\n        ...state,\r\n        movies: action.payload\r\n      };\r\n    case searchActionTypes.movieListSorting:\r\n      if (\r\n        state.movies.length &&\r\n        Object.keys(state.movies[0]).find(\r\n          (value: string): boolean => value === action.payload\r\n        )\r\n      ) {\r\n        const newMovies: MovieTypes.IMovie[] = state.movies;\r\n        newMovies.sort(\r\n          (a: MovieTypes.IMovie, b: MovieTypes.IMovie): number => {\r\n            if (typeof a[action.payload] === \"string\") {\r\n              return a[action.payload].localeCompare(b[action.payload]);\r\n            }\r\n            return b[action.payload] - a[action.payload];\r\n          }\r\n        );\r\n        return { ...state, movies: newMovies, sortBy: action.payload };\r\n      }\r\n      return { ...state, sortBy: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default searchPageReducer;\r\n","import { MovieTypes, StateTypes } from \"Types\";\r\n// react\r\nimport * as React from \"react\";\r\n// components\r\nimport Header from \"Components/Header/Header\";\r\nimport MovieSearch from \"./components/MovieSearch/MovieSearch\";\r\nimport MovieGrid from \"Components/MovieGrid/MovieGrid\";\r\nimport Footer from \"Components/Footer/Footer\";\r\n// services\r\nimport movieService from \"Services/movieService\";\r\n// redux imports\r\nimport { connect } from \"react-redux\";\r\n\r\ntype SearchPageProps = {\r\n  movieIDList: number[];\r\n  // router props\r\n  location: { search?: string };\r\n};\r\n\r\nconst SearchPage: React.SFC<SearchPageProps> = ({\r\n  location,\r\n  movieIDList,\r\n  ...props\r\n}: SearchPageProps) => {\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <MovieSearch\r\n          query={\r\n            location.search &&\r\n            movieService.formatQueryStringToOptions(location.search)\r\n          }\r\n        />\r\n      </Header>\r\n      <div>\r\n        <MovieGrid movieIDs={movieIDList} />\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { SearchPage };\r\n/* istanbul ignore next*/\r\nexport default connect(\r\n  (state: StateTypes.applicationState): { movieIDList: number[] } => {\r\n    return {\r\n      movieIDList:\r\n        state.searchPage.movies.map((movie: MovieTypes.IMovie) => movie.id) ||\r\n        []\r\n    };\r\n  },\r\n  undefined\r\n)(SearchPage);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main--lwJ8YzOmOa\",\"label\":\"label--PWCADLHhMH Typo-Base Typo-Bold\",\"searchWrap\":\"searchWrap--3A6TicG3O-\",\"searchField\":\"searchField--1_GP4PARK5\",\"searchLabel\":\"searchLabel--1RtqNdZlQb label--PWCADLHhMH Typo-Base Typo-Bold\",\"searchInput\":\"searchInput--22Tv-JRa-c Typo-Base\",\"optionsLabel\":\"optionsLabel--1D99Vmq6-0 label--PWCADLHhMH Typo-Base Typo-Bold\",\"options\":\"options--3u1uGhf6DA\"};","import * as React from \"react\";\r\n// components\r\nimport Button from \"Components/Button/Button\";\r\n// styles\r\nimport * as styles from \"./MovieSearch.styles.css\";\r\nimport { MovieTypes } from \"Types\";\r\n// redux\r\nimport { connect } from \"react-redux\";\r\nimport { movieSearch } from \"Views/SearchPage/SearchPage.actions\";\r\nimport movieService from \"Services/movieService\";\r\n\r\ntype searchType = \"title\" | \"genres\";\r\n\r\ntype movieSearchProps = {\r\n  submitAction: (query: MovieTypes.MovieListQuery) => void;\r\n  query?: MovieTypes.MovieListQuery;\r\n};\r\n\r\ntype MovieSearchType = { searchFieldValue: string; searchBy: searchType };\r\n\r\nclass MovieSearch extends React.Component<movieSearchProps, MovieSearchType> {\r\n  constructor(props: movieSearchProps) {\r\n    super(props);\r\n    const searchValueExists = this.props.query && this.props.query.search;\r\n    const searchByValueExists = this.props.query && this.props.query.searchBy;\r\n\r\n    this.state = {\r\n      searchFieldValue: searchValueExists ? this.props.query.search : \"\",\r\n      searchBy: searchByValueExists ? this.props.query.searchBy : \"title\"\r\n    };\r\n  }\r\n  // search on mount\r\n  componentDidMount() {\r\n    if (this.state.searchFieldValue) {\r\n      this.props.submitAction({\r\n        search: this.state.searchFieldValue,\r\n        searchBy: this.state.searchBy,\r\n        ...this.props.query\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchFieldChange = (\r\n    event: React.ChangeEvent<HTMLInputElement>\r\n  ): void => {\r\n    this.setState({ searchFieldValue: event.target.value });\r\n  };\r\n\r\n  handleSearchByChange = (type: searchType) => (\r\n    event: React.MouseEvent\r\n  ): void => {\r\n    event.preventDefault();\r\n    this.setState({ searchBy: type });\r\n  };\r\n\r\n  handleSubmit = (event: React.SyntheticEvent): void => {\r\n    event.preventDefault();\r\n\r\n    const query = {\r\n      search: this.state.searchFieldValue,\r\n      searchBy: this.state.searchBy,\r\n      ...this.props.query\r\n    };\r\n\r\n    this.props.submitAction(query);\r\n    const newHash = this.state.searchFieldValue\r\n      ? movieService.formatOptionsToQueryString(query)\r\n      : \"\";\r\n\r\n    location.hash = newHash;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={styles.main} onSubmit={this.handleSubmit}>\r\n        <div className={styles.searchWrap}>\r\n          <div className={styles.searchField}>\r\n            <span className={styles.searchLabel}>Find a movie</span>\r\n            <input\r\n              className={styles.searchInput}\r\n              type=\"text\"\r\n              placeholder={\"Movie title\"}\r\n              onChange={this.handleSearchFieldChange}\r\n              value={this.state.searchFieldValue}\r\n            />\r\n          </div>\r\n          <Button\r\n            label=\"search\"\r\n            variant=\"white\"\r\n            type=\"submit\"\r\n            clickAction={this.handleSubmit}\r\n          />\r\n        </div>\r\n        <div className={styles.options}>\r\n          <span className={styles.optionsLabel}>search by</span>\r\n          <Button\r\n            label=\"title\"\r\n            size=\"small\"\r\n            variant={this.state.searchBy === \"title\" ? \"primary\" : \"white\"}\r\n            clickAction={this.handleSearchByChange(\"title\")}\r\n          />\r\n          <Button\r\n            label=\"genres\"\r\n            size=\"small\"\r\n            variant={this.state.searchBy === \"genres\" ? \"primary\" : \"white\"}\r\n            clickAction={this.handleSearchByChange(\"genres\")}\r\n          />\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport { MovieSearch };\r\n\r\n/* istanbul ignore next*/\r\nexport default connect(\r\n  null,\r\n  (dispatch: any) => ({\r\n    submitAction: (query: MovieTypes.MovieListQuery) => {\r\n      movieSearch(query)(dispatch);\r\n    }\r\n  })\r\n)(MovieSearch);\r\n","module.exports = require(\"classnames\");","module.exports = require(\"express\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"redux\");","module.exports = require(\"redux-thunk\");"],"sourceRoot":""}